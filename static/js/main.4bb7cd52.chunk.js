(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{48:function(e,t,a){e.exports=a(84)},53:function(e,t,a){},54:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),l=(a(53),a(54),a(14)),i=a(3),s=(a(55),a(47)),u=a(7),m=a(12),d=a.n(m),f=Object(n.createContext)();function v(e){var t=Object(n.useState)([{countryName:"Tel Aviv",id:"215854"}]),a=Object(u.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)("Tel Aviv"),i=Object(u.a)(l,2),s=i[0],m=i[1];return r.a.createElement(f.Provider,{value:{favorits:c,setfavorits:o,chosenCountry:s,setchosenCountry:m}},e.children)}function h(e){var t=e.dateforecast,a=function(e){var t=5*(e-32)/9;return Math.round(t)};return r.a.createElement("div",null,r.a.createElement("table",{className:"table table-bordered table-secondary"},r.a.createElement("tbody",null,r.a.createElement("tr",null,function(){try{return t.map((function(e,t){return r.a.createElement("td",{key:t,style:{textAlign:"center"}}," ",r.a.createElement("h6",null,(n=e.Date,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(n).getDay()])),r.a.createElement("p",{style:{fontSize:"15px",fontWeight:"bold"}}," ",a(e.Temperature.Maximum.Value),"\xb0C"),r.a.createElement("p",{style:{fontSize:"13px"}},"  ",a(e.Temperature.Minimum.Value),"\xb0C"));var n}))}catch(e){}}()))))}var b,p=!0,E=!1;function y(){var e=Object(n.useContext)(f),t=Object(n.useState)(e.chosenCountry),a=Object(u.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(""),i=Object(u.a)(l,2),m=i[0],v=i[1],y=Object(n.useState)(!1),g=Object(u.a)(y,2),x=g[0],O=g[1],j=Object(n.useState)(""),N=Object(u.a)(j,2),T=N[0],w=N[1],k=Object(n.useState)(""),C=Object(u.a)(k,2),S=C[0],A=C[1],W=Object(n.useState)(""),M=Object(u.a)(W,2),D=M[0],F=M[1],q=Object(n.useState)("Delete from favorites"),z=Object(u.a)(q,2),G=z[0],H=z[1],K=Object(n.useState)(""),P=Object(u.a)(K,2),V=P[0],Q=P[1];Object(n.useEffect)((function(){d.a.get("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=8NbF18PGTxwaMWhAH4OOKiU9etqQs2Yd&q=".concat(c)).then((function(e){b=e.data[0].Key,v(e.data[0].Country.LocalizedName);var t=d.a.get("https://dataservice.accuweather.com/currentconditions/v1/"+b+"?apikey=8NbF18PGTxwaMWhAH4OOKiU9etqQs2Yd"),a=d.a.get("https://dataservice.accuweather.com/forecasts/v1/daily/5day/"+b+"?apikey=8NbF18PGTxwaMWhAH4OOKiU9etqQs2Yd");return d.a.all([t,a])})).then(d.a.spread((function(){var e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1];E=!0,w(e.data[0].Temperature.Metric.Value),Q(e.data[0].WeatherText),A(t.data.DailyForecasts)}))).catch((function(e){E=!1,alert("Request Error!.\nThe possibility that it is due to the invalid country name!"),console.log(e)}))}),[x,e.favorits]);var R=function(t){var a=e.favorits.find((function(e){return e.countryName==t}));H(a?"Delete from favorites":"Add To favorites")};return r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("input",{onChange:function(e){!function(e){R(e),p=!1,F("Input must be with English!");/^[A-Za-z ]+$/.test(e)?(p=!0,F(""),c=e):p=!1}(e.target.value)},className:"form-control",type:"text",name:"inp",placeholder:"country Name",defaultValue:e.chosenCountry}),r.a.createElement("h5",{style:{color:"red",marginTop:"5px"}},D),r.a.createElement("br",null),r.a.createElement("div",{className:"row",style:{border:"1px solid black",borderRadius:"3px",margin:"5px"}},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h3",null,c),r.a.createElement("h6",null,m),r.a.createElement("h3",null,T,"\xb0C"),r.a.createElement("h2",null,V))),r.a.createElement("div",{className:"col-6",style:{}},r.a.createElement("button",{className:"btn btn-secondary",style:{float:"right",margin:"10px"},onClick:function(){o(c),p?O(!x):alert("Name of country is invalid !")}},"Get Wether"),r.a.createElement("button",{className:"btn btn-secondary",style:{float:"right",margin:"10px"},onClick:function(){o(c),p&&E&&"Add To favorites"==G?(O(!x),setTimeout((function(){e.setfavorits([].concat(Object(s.a)(e.favorits),[{countryName:c,id:b}])),H("Delete from favorites")}),500)):"Delete from favorites"==G?function(){if(console.log("deleted"),e.setchosenCountry("Tel Aviv"),"Tel Aviv"!=c){H("Add To favorites");var t=e.favorits.findIndex((function(e){return e.countryName==c})),a=e.favorits.filter((function(e,a){return a!=t}));e.setfavorits(a)}else alert("you can not remove default value !")}():alert("Name of country is invalid !")}},G," "))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(h,{dateforecast:S}))}function g(){var e=Object(n.useContext)(f),t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(!1),s=Object(u.a)(i,2),m=(s[0],s[1]);return Object(n.useEffect)((function(){!function(){var t=[];e.favorits.map((function(e,a){d.a.get("https://dataservice.accuweather.com/currentconditions/v1/"+e.id+"?apikey=8NbF18PGTxwaMWhAH4OOKiU9etqQs2Yd").then((function(e){t.push(e.data[0].Temperature.Metric.Value)})).catch((function(e){console.log(e)}))})),o(t)}()}),[]),setTimeout((function(){m(!0)}),500),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row",style:{padding:"10px",border:"1px solid black",borderRadius:"3px"}},e.favorits.map((function(t,a){return r.a.createElement(l.b,{style:{backgroundColor:"#6c757d",border:"1px solid black",borderRadius:"3px",maxWidth:"150px",minWidth:"150px",margin:"auto",marginTop:"10px",height:"130px",textAlign:"center"},className:"col-6",key:a,to:"/",onClick:function(){e.setchosenCountry(t.countryName)}},r.a.createElement("div",null,"     ",r.a.createElement("div",null,r.a.createElement("h4",{style:{color:"white",paddingTop:"25px"}},t.countryName),r.a.createElement("h4",{style:{color:"white"}},c[a],"\xb0C"))))}))))}var x=a(87),O=a(88);function j(){return r.a.createElement(x.a,{collapseOnSelect:!0,expand:"sm",bg:"secondary",variant:"dark"},r.a.createElement(x.a.Brand,{href:"#home"},"Weather App"),r.a.createElement(x.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(x.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(O.a,{style:{direction:"rtl"},className:"ml-auto"},r.a.createElement(O.a.Link,{style:{textAlign:"right",fontSize:"20px"},as:l.b,to:"/",href:"b"},"Home"),r.a.createElement(O.a.Link,{style:{textAlign:"right",fontSize:"20px"},as:l.b,to:"/f",href:"b"},"Favorites"))))}var N=function(){return r.a.createElement("div",null,r.a.createElement(v,null,r.a.createElement(l.a,null,r.a.createElement(j,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",render:function(){return r.a.createElement(y,null)}}),r.a.createElement(i.a,{exact:!0,path:"/f",render:function(){return r.a.createElement(g,null)}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.4bb7cd52.chunk.js.map