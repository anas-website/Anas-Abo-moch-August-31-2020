(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{30:function(e,t,a){e.exports=a(60)},35:function(e,t,a){},36:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),o=a.n(c),l=(a(35),a(36),a(9)),i=a(1),u=(a(37),a(29)),s=a(3),m=a(8),d=a.n(m),f=Object(n.createContext)();function v(e){var t=Object(n.useState)([{countryName:"Tel Aviv",id:"215854"}]),a=Object(s.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)("Tel Aviv"),i=Object(s.a)(l,2),u=i[0],m=i[1];return r.a.createElement(f.Provider,{value:{favorits:c,setfavorits:o,chosenCountry:u,setchosenCountry:m}},e.children)}function b(e){var t=e.dateforecast,a=function(e){var t=5*(e-32)/9;return Math.round(t)};return r.a.createElement("div",null,r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",{style:{backgroundColor:"gray",textAlign:"center"}},function(){try{return t.map((function(e,t){return r.a.createElement("td",{key:t}," ",r.a.createElement("h5",null,(n=e.Date,["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(n).getDay()])),r.a.createElement("h5",null," ",a(e.Temperature.Maximum.Value),"\xb0C"),r.a.createElement("p",null," ",a(e.Temperature.Minimum.Value),"\xb0C"));var n}))}catch(e){}}()))))}var h,p=!0,y=!1;function E(){var e=Object(n.useContext)(f),t=Object(n.useState)(e.chosenCountry),a=Object(s.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(""),i=Object(s.a)(l,2),m=i[0],v=i[1],E=Object(n.useState)(!1),g=Object(s.a)(E,2),O=g[0],x=g[1],j=Object(n.useState)(""),N=Object(s.a)(j,2),k=N[0],C=N[1],T=Object(n.useState)(""),w=Object(s.a)(T,2),A=w[0],S=w[1],M=Object(n.useState)("Delete from favorites"),W=Object(s.a)(M,2),D=W[0],F=W[1],q=Object(n.useState)(""),G=Object(s.a)(q,2),H=G[0],K=G[1];Object(n.useEffect)((function(){d.a.get("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=8NbF18PGTxwaMWhAH4OOKiU9etqQs2Yd&q=".concat(c)).then((function(e){h=e.data[0].Key,v(e.data[0].Country.LocalizedName);var t=d.a.get("https://dataservice.accuweather.com/currentconditions/v1/"+h+"?apikey=8NbF18PGTxwaMWhAH4OOKiU9etqQs2Yd"),a=d.a.get("https://dataservice.accuweather.com/forecasts/v1/daily/5day/"+h+"?apikey=8NbF18PGTxwaMWhAH4OOKiU9etqQs2Yd");return d.a.all([t,a])})).then(d.a.spread((function(){var e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1];y=!0,C(e.data[0].Temperature.Metric.Value),K(e.data[0].WeatherText),S(t.data.DailyForecasts)}))).catch((function(e){y=!1,alert("Request Error!.\nThe possibility that it is due to the invalid country name!"),console.log(e)}))}),[O,e.favorits]);var P=function(t){var a=e.favorits.find((function(e){return e.countryName==t}));F(a?"Delete from favorites":"Add To favorites")};return r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("input",{onChange:function(e){!function(e){P(e),p=!1;/^[A-Za-z ]+$/.test(e)?(p=!0,c=e):p=!1}(e.target.value)},className:"form-control",type:"text",name:"inp",placeholder:"country Name",defaultValue:e.chosenCountry}),r.a.createElement("br",null),r.a.createElement("div",{className:"row",style:{border:"1px solid black",borderRadius:"3px"}},r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h3",null,c),r.a.createElement("h6",null,m),r.a.createElement("h3",null,k,"\xb0C"),r.a.createElement("h2",null,H))),r.a.createElement("div",{className:"col-6",style:{}},r.a.createElement("button",{className:"btn btn-primary",style:{float:"right",margin:"10px"},onClick:function(){o(c),p?x(!O):alert("Name of country is invalid !")}},"Get Wether"),r.a.createElement("button",{className:"btn btn-primary",style:{float:"right",margin:"10px"},onClick:function(){o(c),p&&y&&"Add To favorites"==D?(x(!O),setTimeout((function(){e.setfavorits([].concat(Object(u.a)(e.favorits),[{countryName:c,id:h}])),F("Delete from favorites")}),500)):"Delete from favorites"==D?function(){if(console.log("deleted"),e.setchosenCountry("Tel Aviv"),"Tel Aviv"!=c){F("Add To favorites");var t=e.favorits.findIndex((function(e){return e.countryName==c})),a=e.favorits.filter((function(e,a){return a!=t}));e.setfavorits(a)}else alert("you can not remove default value !")}():alert("Name of country is invalid !")}},D," "))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(b,{dateforecast:A}))}function g(){var e=Object(n.useContext)(f),t=Object(n.useState)([]),a=Object(s.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(!1),u=Object(s.a)(i,2),m=(u[0],u[1]);return Object(n.useEffect)((function(){!function(){var t=[];e.favorits.map((function(e,a){d.a.get("https://dataservice.accuweather.com/currentconditions/v1/"+e.id+"?apikey=8NbF18PGTxwaMWhAH4OOKiU9etqQs2Yd").then((function(e){t.push(e.data[0].Temperature.Metric.Value)})).catch((function(e){console.log(e)}))})),o(t)}()}),[]),setTimeout((function(){m(!0)}),500),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row",style:{padding:"10px",border:"1px solid black",borderRadius:"3px"}},e.favorits.map((function(t,a){return r.a.createElement(l.b,{style:{backgroundColor:"gray",border:"1px solid black",borderRadius:"3px",maxWidth:"150px",minWidth:"150px",margin:"auto",marginTop:"10px",height:"130px",textAlign:"center"},className:"col-6",key:a,to:"/",onClick:function(){e.setchosenCountry(t.countryName)}},r.a.createElement("div",null,"     ",r.a.createElement("div",null,r.a.createElement("h4",{style:{color:"black",paddingTop:"25px"}},t.countryName),r.a.createElement("h4",{style:{color:"black"}},c[a],"\xb0C"))))}))))}function O(){return r.a.createElement("div",null,r.a.createElement("div",{className:"",style:{backgroundColor:"gray",height:"100px"}},r.a.createElement(l.b,{to:"/f",className:"btn btn-primary",style:{float:"right",margin:"10px"},onClick:function(){}},"Favorites"),r.a.createElement(l.b,{to:"/",className:"btn btn-primary",style:{float:"right",margin:"10px"},onClick:function(){}},"Home")))}var x=function(){return r.a.createElement("div",null,r.a.createElement(v,null,r.a.createElement(l.a,null,r.a.createElement(O,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",render:function(){return r.a.createElement(E,null)}}),r.a.createElement(i.a,{exact:!0,path:"/f",render:function(){return r.a.createElement(g,null)}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.42593be6.chunk.js.map